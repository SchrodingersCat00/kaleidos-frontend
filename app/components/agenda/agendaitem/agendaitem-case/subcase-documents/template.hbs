<div class="vl-u-spacer--large">
  <div class="vl-u-spacer">
    <div class="vl-u-display-flex vl-u-display-flex-align-center">
      <h4 class="vl-title vl-title--h4">
        {{t "documents"}}
      </h4>
      <div class="vl-u-spacer-extended-left-s">
        <a class="vl-link" {{action "toggleIsEditing"}}>
          {{t "buttons.edit"}}
        </a>
      </div>
    </div>
  </div>
  {{#if (not isEditing)}}
    {{#if (gt (await subcase.documentsLength) 0)}}
      {{#each (await subcase.documents) as |document|}}
        {{agenda/agendaitem/agendaitem-case/subcase-document/document-link
          document=(await document)
          subcase=subcase
          agendaitem=agendaitem
        }}
      {{/each}}
    {{else}}
      <div class="vl-u-spacer-extended-top-s">
        {{web-components/vl-alert message=(t "no-documents-yet")}}
      </div>
    {{/if}}
  {{else}}
    {{agenda/agendaitem/agendaitem-case/edit-subcase-documents
      documents=(await subcase.documents)
      cancelForm=(action "cancelEditing")
    }}
  {{/if}}
  {{!-- <div class="vl-u-spacer">
    <button
      class="vl-button vl-button--tertiary vl-button--narrow vl-button--icon-before"
      {{action "toggleIsAddingNewDocument"}}
    >
      <i class="vl-button__icon vl-button__icon--before vl-vi vl-vi-add"></i>
      {{t "buttons.document-add"}}
    </button>
  </div> --}}
</div>
{{#if isAddingNewDocument}}
  {{#web-components/vl-modal
    closeModal=(action "toggleIsAddingNewDocument")
    isOverlay=true
    title=(t "document-add")
  }}
    <div class="vl-modal-dialog__content">
      <div class="vlc-input-field-block">
        {{web-components/vl-form-label value="Naam van bestand"}}
        {{web-components/vl-form-input width="4" value=fileName}}
      </div>
      <div class="vlc-input-field-block">
        {{web-components/vl-form-label value="Bijlagen"}}
        {{#if (not uploadedFile)}}
          {{file-uploader
            multipleFiles=false
            uploadedFile=(action "getUploadedFile")
          }}
        {{else}}
          <div class="document">
            {{fa-icon "file"}}
            {{await uploadedFile.name}}
            <a {{action "removeFile" uploadedFile}}>
              {{fa-icon "remove"}}
            </a>
          </div>
        {{/if}}
      </div>
    </div>
    <div class="vlc-navbar vlc-navbar--no-padding vlc-navbar--bordered-top">
      <div class="vlc-toolbar">
        <div class="vlc-toolbar__left">
          <div class="vlc-toolbar__item">
            <button
              class="vl-button vl-button--link vl-button--narrow"
              {{action "openUploadDialog"}}
            >
              {{t "buttons.cancel"}}
            </button>
          </div>
        </div>
        <div class="vlc-toolbar__right">
          <div class="vlc-toolbar__item">
            <button
              class="vl-button vl-button--narrow"
              {{action "uploadNewDocument"}}
            >
              {{t "file-uploader.uploading"}}
            </button>
          </div>
        </div>
      </div>
    </div>
  {{/web-components/vl-modal}}
{{/if}}