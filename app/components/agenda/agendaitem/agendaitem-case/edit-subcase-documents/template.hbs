{{#if (await documents)}}
  <div class="vl-u-spacer">
    <table class="vl-data-table vl-data-table--align-middle">
      <thead>
        <tr>
          <th class="vl-data-table-col-4">
            {{web-components/vl-form-label value=(t "document-name")}}
          </th>
          <th class="vl-data-table-col-3">
            {{web-components/vl-form-label value=(t "file-type")}}
          </th>
          <th class="vl-data-table-col-3">
            {{web-components/vl-form-label value=(t "publicity")}}
          </th>
          <th class="vl-data-table-col-1">
            {{web-components/vl-form-label value=(t "confidential")}}
          </th>
          <th class="vl-data-table-col-1"></th>
        </tr>
      </thead>
      <tbody>
        {{#each (await documents) as |document|}}
          {{#if
            (and (not document.deleted) (await document.lastDocumentVersion))
          }}
            <tr>
              <td class="vl-u-display-flex vlc-document-list__item">
                <a
                  {{action "downloadFile" (await document.lastDocumentVersion)}}
                >
                  <div
                    class="vl-badge vl-badge--icon vl-badge--small-medium vl-badge--alt"
                  >
                    <i
                      class="vl-badge__icon vl-vi vl-vi-document"
                      aria-hidden="true"
                    ></i>
                  </div>
                  <p>
                    {{document-name
                      documentVersion=(await document.lastDocumentVersion)
                      item=(await item)
                    }}
                  </p>
                </a>
              </td>
              <td>
                {{utils/model-selector
                  modelName="document-type"
                  searchField="label"
                  propertyToShow="label"
                  sortField="priority"
                  selectedItems=(await document.type)
                  selectModel=(action "chooseDocumentType" document)
                }}
              </td>
              <td>
                {{utils/model-selector
                  modelName="access-level"
                  searchField="label"
                  propertyToShow="label"
                  readOnly=document.freezeAccessLevel
                  sortField="label"
                  selectedItems=(await document.accessLevel)
                  selectModel=(action "chooseAccessLevel" document)
                }}
              </td>
              <td>
                {{web-components/vl-toggle value=document.freezeAccessLevel}}
              </td>
              <td class="vl-u-align-right">
                <button
                  class="vl-button vl-button--link vl-button--icon"
                  {{action "deleteRow" document}}
                >
                  <i class="vl-vi vl-vi-trash" aria-hidden="true"></i>
                  <span class="vl-u-visually-hidden">
                    {{t "delete"}}
                  </span>
                </button>
              </td>
            </tr>
          {{/if}}
        {{/each}}
      </tbody>
    </table>
  </div>
  <div class="vl-action-group vl-action-group--align-right">
    <a class="vl-link" {{action "cancelEditing"}}>
      {{t "cancel"}}
    </a>
    {{web-components/vl-save-button
      text=(t "save")
      isLoading=isLoading
      saveAction=(action "saveChanges")
    }}
  </div>
{{/if}}
